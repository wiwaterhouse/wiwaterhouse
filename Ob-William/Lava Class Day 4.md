#class #lava
### Session 12 - Advanced For Loops
- Pre-filtering your Array
	- assign array var outside of for loop and sort it first, then roll through the loop
	- | SortByAttribute filter to do what it says on the tin
	- | Concat:var to add one array to another
	- Reminder - | Distinct'Property' works for this too
- Looping without an array
	- {% for i in (2021..currentYear) %} (var currentYear assigned above), iterating is built-in to the syntax inside (..)
	- var[1] = | Index:1
		- REMINDER - arrays start at 0
- Showing Arrays Without Loops
	- Can display by using `{{ arrayVar | Join:'</li><li>' }}
	- | Map:'Property' to trim to only info specified
### Session 13 - Working with Attributes
- Properties are .Properties
	- Typically not changed often
	- Defined by rock
	- Consistend from church to church
	- Viewed on Model Map
- Attributes
	- Defined by church
	- very customizable
	- frequently accessed and updated often
	- can be added to any entity type
- Some entities don't have UI to add attributes, but still can be created
- Admin Tools > System Settings > Entity Attributes to see full list of attributes
- Default of the | Attribute:'key' is TEXT
- Attribute Qualifiers
	- 'RawValue'
	- '[Property].[Property].etc'
	- 'Object'
	- 'Url'
- ex: {{ CurrentPerson | Attribute:'OnboardingProcess','Object' | Attribute:'RepeatProcess' }}
- ex: {{ CurrentPerson | Attribute:'OnboardingProcess','ConnectionOpportunity.ConnectionType.Name' }}
- Detecting Attributes
	- {{ [Entity].AttributeValues | ToJSON }} to list all attributes on a given entity
		- THIS WILL MISS AttributeName AND AttributeKey, can get by attribute.AttributeName/Key
	- Does NOT respect security on the attributes
### Session 14 - Lava Shortcodes
- Syntax
	- Inline {[ shortcodename ]}
	- Block {[ shortcodename ]} {[ endshortcodename ]}
	- Parameters listed after shortcodename
	- Can be literal, variable or a merge field
- Admin Tools > CMS Configuration > Lava Shortcodes
- DOCUMENT EVERTHING
- {[ googlemap ]} {[ endgooglemap ]} - use for Group map project #followup - NOTE might be able to use the core Group Finder block
	- Really, just go read all the shortcodes available already #followup
- {[ chart ]} could be useful too
### Session 15 - Lava in Workflows
- Action Set Attribute from Entity to feed in entity that started the workflow
	- Do this for a 'move project' for project board button #followup
- ENTITY is no longer available after the workflow has stopped processing, such as display a form or complete
- {% webrequest %} for API requests
	- use this for the MailGun API for creating the list #followup
- Conditionals will ALWAYS get the RawValue for the given attribute in comparison
### Session 16 - Other Places to Use Lava
- Lava in Content Channels
	- Content Channel View Block
		- {% for item in Items %} will cycle through each content channel item
- Metrics
	- Can use {% webrequest %} to pull metrics via api #followup check what metrics we still need to pull in and see if we can get access via api
	- Partitions will always be entity id's
- Dynamic Data Block
	- Block settings can swap the default grid with lava template, fully customizable
- Page Menu Block
	- File manager with the lava files
